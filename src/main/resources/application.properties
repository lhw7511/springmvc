spring.application.name=springmvc
spring.messages.basename=messages,errors
spring.messages.encoding=UTF-8

# 세션 타임아웃 설정 (60초, 기본값은 1800초 = 30분)
server.servlet.session.timeout=1800

# ──────────────────────────────────────
# ───────
# Redis 연결 설정
# ─────────────────────────────────────────────

# Redis 서버 주소
# 도커로 띄웠을 때 기본값. 원격 서버라면 해당 IP로 변경
spring.data.redis.host=localhost

# Redis 포트 (기본값 6379)
spring.data.redis.port=6379

# ─────────────────────────────────────────────
# Spring Session 설정
# ─────────────────────────────────────────────

# 세션 저장소를 Redis로 지정
# 기본값은 none (JVM 메모리에 저장) → 서버 재시작 시 세션 전부 날아감
# redis로 설정하면 세션이 Redis에 저장되어 서버 재시작해도 로그인 유지됨
spring.session.store-type=redis

# 세션을 Redis에 언제 저장할지 결정
# on-save  : 세션이 변경됐을 때만 저장 (기본값, 성능 좋음)
# immediate: 세션 접근할 때마다 즉시 저장 (데이터 일관성 중요할 때)
spring.session.redis.flush-mode=on-save

# indexed: 사용자 이름으로 세션을 조회할 수 있는 RedisIndexedSessionRepository 사용
# default(기본값)는 RedisSessionRepository → FindByIndexNameSessionRepository 미구현
# → indexed로 설정해야 중복 로그인 감지(FindByIndexNameSessionRepository)가 가능함
spring.session.redis.repository-type=indexed

# 브라우저에 저장되는 세션 쿠키 이름
# Spring Session Redis 사용 시 기본값은 SESSION
# RSESSIONID로 바꾸면 브라우저 개발자도구 쿠키탭에서 이 이름으로 보임
server.servlet.session.cookie.name=RSESSIONID
